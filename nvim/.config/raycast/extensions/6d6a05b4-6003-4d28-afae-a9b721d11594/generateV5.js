"use strict";var y=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var V=Object.prototype.hasOwnProperty;var T=(e,t)=>{for(var r in t)y(e,r,{get:t[r],enumerable:!0})},L=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of b(t))!V.call(e,i)&&i!==r&&y(e,i,{get:()=>t[i],enumerable:!(o=H(t,i))||o.enumerable});return e};var F=e=>L(y({},"__esModule",{value:!0}),e);var O={};T(O,{default:()=>$});module.exports=F(O);var s=require("@raycast/api");var U=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function C(e){return typeof e=="string"&&U.test(e)}var d=C;function P(e){if(!d(e))throw TypeError("Invalid UUID");let t;return Uint8Array.of((t=parseInt(e.slice(0,8),16))>>>24,t>>>16&255,t>>>8&255,t&255,(t=parseInt(e.slice(9,13),16))>>>8,t&255,(t=parseInt(e.slice(14,18),16))>>>8,t&255,(t=parseInt(e.slice(19,23),16))>>>8,t&255,(t=parseInt(e.slice(24,36),16))/1099511627776&255,t/4294967296&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255)}var m=P;var a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));function I(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}function R(e){e=unescape(encodeURIComponent(e));let t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r);return t}var w="6ba7b810-9dad-11d1-80b4-00c04fd430c8",v="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function g(e,t,r,o,i,f){let l=typeof r=="string"?R(r):r,u=typeof o=="string"?m(o):o;if(typeof o=="string"&&(o=m(o)),o?.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let n=new Uint8Array(16+l.length);if(n.set(u),n.set(l,u.length),n=t(n),n[6]=n[6]&15|e,n[8]=n[8]&63|128,i){f=f||0;for(let p=0;p<16;++p)i[f+p]=n[p];return i}return I(n)}var D=require("crypto");function B(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),(0,D.createHash)("sha1").update(e).digest()}var E=B;function x(e,t,r,o){return g(80,E,e,t,r,o)}x.DNS=w;x.URL=v;var h=x;var c=require("@raycast/api");var N=async(e,t)=>{try{let r=await c.LocalStorage.getItem("uuidHistory");if(r||(r="[]"),typeof r!="string")return;let o=JSON.parse(r);o.push({uuid:e,timestamp:new Date,type:t}),await c.LocalStorage.setItem("uuidHistory",JSON.stringify(o))}catch{await(0,c.showToast)({style:c.Toast.Style.Failure,title:"Error saving history",message:"Failed to save history to local storage"})}};async function S(e,t,r=!1,o="uuidV4"){let i=Array.from(Array(t)).map(()=>{let f=e();return r?f.toUpperCase():f});for(let f of i)await N(f,o);return i}var A=1e4,$=async e=>{let{numberOfUUIDsToGenerate:t}=e.arguments,{name:r}=e.arguments,{upperCaseLetters:o,uuidNamespace:i,defaultAction:f}=(0,s.getPreferenceValues)();t||(t="1");try{let l=parseInt(t,10);if(isNaN(l))throw new Error("INVALID_NUMBER");if(!d(i))throw new Error("INVALID_NAMESPACE");if(l<=A){let u=await S(()=>h(r,i),l,o,"uuidV5");f==="copy"?await s.Clipboard.copy(u.join(`\r
`)):f==="paste"&&await s.Clipboard.paste(u.join(`\r
`));let n=f==="copy"?"Copied":"Pasted",p=u.length>1?`${n} ${u.length} new UUIDs.`:`${n} new UUID: ${u}`;await(0,s.showHUD)(`\u2705 ${p}`)}else await(0,s.showToast)({style:s.Toast.Style.Failure,title:"Too many UUIDs requested.",message:`${l} exceeds maximum UUIDs of ${A}. Try a lower number.`})}catch(l){switch(l.message){case"INVALID_NAMESPACE":await(0,s.showToast)({style:s.Toast.Style.Failure,title:"Invalid namespace.",message:"An invalid namespace has been defined. A namespace must be a valid UUID."});break;case"INVALID_NUMBER":await(0,s.showToast)({style:s.Toast.Style.Failure,title:"Invalid number.",message:"An invalid number has been provided. Try an actual number."});break}}};
