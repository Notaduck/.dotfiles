"use strict";var Y=Object.create;var g=Object.defineProperty;var Z=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var Q=Object.getPrototypeOf,W=Object.prototype.hasOwnProperty;var e5=(e,t)=>{for(var r in t)g(e,r,{get:t[r],enumerable:!0})},V=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of K(t))!W.call(e,o)&&o!==r&&g(e,o,{get:()=>t[o],enumerable:!(n=Z(t,o))||n.enumerable});return e};var t5=(e,t,r)=>(r=e!=null?Y(Q(e)):{},V(t||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),r5=e=>V(g({},"__esModule",{value:!0}),e);var h5={};e5(h5,{default:()=>g5});module.exports=r5(h5);var x=require("@raycast/api");var L=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function n5(e){return typeof e=="string"&&L.test(e)}var _=n5;var f=[];for(let e=0;e<256;++e)f.push((e+256).toString(16).slice(1));function S(e,t=0){return(f[e[t+0]]+f[e[t+1]]+f[e[t+2]]+f[e[t+3]]+"-"+f[e[t+4]]+f[e[t+5]]+"-"+f[e[t+6]]+f[e[t+7]]+"-"+f[e[t+8]]+f[e[t+9]]+"-"+f[e[t+10]]+f[e[t+11]]+f[e[t+12]]+f[e[t+13]]+f[e[t+14]]+f[e[t+15]]).toLowerCase()}function i5(e,t=0){let r=S(e,t);if(!_(r))throw TypeError("Stringified UUID is invalid");return r}var h=i5;var N=t5(require("node:crypto")),I=new Uint8Array(256),w=I.length;function $(){return w>I.length-16&&(N.default.randomFillSync(I),w=0),I.slice(w,w+=16)}var b=null,C=null,m=0;function o5(e,t,r){e=e||{};let n=t&&r||0,o=t||new Uint8Array(16),a=e.random||(e.rng||$)(),y=e.msecs!==void 0?e.msecs:Date.now(),d=e.seq!==void 0?e.seq:null,c=C,u=b;return y>m&&e.msecs===void 0&&(m=y,d!==null&&(c=null,u=null)),d!==null&&(d>2147483647&&(d=2147483647),c=d>>>19&4095,u=d&524287),(c===null||u===null)&&(c=a[6]&127,c=c<<8|a[7],u=a[8]&63,u=u<<8|a[9],u=u<<5|a[10]>>>3),y+1e4>m&&d===null?++u>524287&&(u=0,++c>4095&&(c=0,m++)):m=y,C=c,b=u,o[n++]=m/1099511627776&255,o[n++]=m/4294967296&255,o[n++]=m/16777216&255,o[n++]=m/65536&255,o[n++]=m/256&255,o[n++]=m&255,o[n++]=c>>>4&15|112,o[n++]=c&255,o[n++]=u>>>13&63|128,o[n++]=u>>>5&255,o[n++]=u<<3&255|a[10]&7,o[n++]=a[11],o[n++]=a[12],o[n++]=a[13],o[n++]=a[14],o[n++]=a[15],t||S(o)}var T=o5;function a5(e){let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var s="0123456789abcdefghjkmnpqrstvwxyz",i=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,255,18,19,255,20,21,255,22,23,24,25,26,255,27,28,29,30,31,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]);function H(e){let t=new Array(26).fill("");if(e.length!==16)throw new Error(`Invalid length. Expected 16 bytes, got ${e.length}. Input: ${e}`);return t[0]=s[(e[0]&224)>>5],t[1]=s[e[0]&31],t[2]=s[(e[1]&248)>>3],t[3]=s[(e[1]&7)<<2|(e[2]&192)>>6],t[4]=s[(e[2]&62)>>1],t[5]=s[(e[2]&1)<<4|(e[3]&240)>>4],t[6]=s[(e[3]&15)<<1|(e[4]&128)>>7],t[7]=s[(e[4]&124)>>2],t[8]=s[(e[4]&3)<<3|(e[5]&224)>>5],t[9]=s[e[5]&31],t[10]=s[(e[6]&248)>>3],t[11]=s[(e[6]&7)<<2|(e[7]&192)>>6],t[12]=s[(e[7]&62)>>1],t[13]=s[(e[7]&1)<<4|(e[8]&240)>>4],t[14]=s[(e[8]&15)<<1|(e[9]&128)>>7],t[15]=s[(e[9]&124)>>2],t[16]=s[(e[9]&3)<<3|(e[10]&224)>>5],t[17]=s[e[10]&31],t[18]=s[(e[11]&248)>>3],t[19]=s[(e[11]&7)<<2|(e[12]&192)>>6],t[20]=s[(e[12]&62)>>1],t[21]=s[(e[12]&1)<<4|(e[13]&240)>>4],t[22]=s[(e[13]&15)<<1|(e[14]&128)>>7],t[23]=s[(e[14]&124)>>2],t[24]=s[(e[14]&3)<<3|(e[15]&224)>>5],t[25]=s[e[15]&31],t.join("")}function M(e){if(e.length!==26)throw new Error(`Invalid length. Expected 26 bytes, got ${e.length}. Input: ${e}`);let r=new TextEncoder().encode(e);if(i[r[0]]===255||i[r[1]]===255||i[r[2]]===255||i[r[3]]===255||i[r[4]]===255||i[r[5]]===255||i[r[6]]===255||i[r[7]]===255||i[r[8]]===255||i[r[9]]===255||i[r[10]]===255||i[r[11]]===255||i[r[12]]===255||i[r[13]]===255||i[r[14]]===255||i[r[15]]===255||i[r[16]]===255||i[r[17]]===255||i[r[18]]===255||i[r[19]]===255||i[r[20]]===255||i[r[21]]===255||i[r[22]]===255||i[r[23]]===255||i[r[24]]===255||i[r[25]]===255)throw new Error("Invalid base32 character");let n=new Uint8Array(16);return n[0]=i[r[0]]<<5|i[r[1]],n[1]=i[r[2]]<<3|i[r[3]]>>2,n[2]=(i[r[3]]&3)<<6|i[r[4]]<<1|i[r[5]]>>4,n[3]=(i[r[5]]&15)<<4|i[r[6]]>>1,n[4]=(i[r[6]]&1)<<7|i[r[7]]<<2|i[r[8]]>>3,n[5]=(i[r[8]]&7)<<5|i[r[9]],n[6]=i[r[10]]<<3|i[r[11]]>>2,n[7]=(i[r[11]]&3)<<6|i[r[12]]<<1|i[r[13]]>>4,n[8]=(i[r[13]]&15)<<4|i[r[14]]>>1,n[9]=(i[r[14]]&1)<<7|i[r[15]]<<2|i[r[16]]>>3,n[10]=(i[r[16]]&7)<<5|i[r[17]],n[11]=i[r[18]]<<3|i[r[19]]>>2,n[12]=(i[r[19]]&3)<<6|i[r[20]]<<1|i[r[21]]>>4,n[13]=(i[r[21]]&15)<<4|i[r[22]]>>1,n[14]=(i[r[22]]&1)<<7|i[r[23]]<<2|i[r[24]]>>3,n[15]=(i[r[24]]&7)<<5|i[r[25]],n}function s5(e){if(e.length>63)return!1;let t,r,n;for(r=0,n=e.length;r<n;r+=1){t=e.charCodeAt(r);let o=t>96&&t<123,a=t===95;if((r===0||r===n-1)&&!o||!(o||a))return!1}return!0}var f5=class extends Error{constructor(e){super(`Invalid prefix "${e}". Must be at most 63 ASCII letters [a-z_]`),this.name="InvalidPrefixError"}},l5=class extends Error{constructor(e,t){super(`Invalid TypeId. Prefix mismatch. Expected ${e}, got ${t}`),this.name="PrefixMismatchError"}},u5=class extends Error{constructor(e){super(`Invalid TypeId. Prefix cannot be empty when there's a separator: ${e}`),this.name="EmptyPrefixError"}},B=class extends Error{constructor(e){super(`Invalid length. Suffix should have 26 characters, got ${e}`),this.name="InvalidSuffixLengthError"}},c5=class extends Error{constructor(e){super(`Invalid suffix. First character "${e}" must be in the range [0-7]`),this.name="InvalidSuffixCharacterError"}},d5=class extends Error{constructor(e,t){super(`Cannot convert TypeID of type ${e} to type ${t}`),this.name="TypeIDConversionError"}};function O(e="",t=""){if(!s5(e))throw new f5(e);let r;if(t)r=t;else{let n=new Uint8Array(16);T(void 0,n),r=H(n)}if(r.length!==26)throw new B(r.length);if(r[0]>"7")throw new c5(r[0]);return M(r),e===""?r:`${e}_${r}`}function x5(e,t){let r,n,o=e.lastIndexOf("_");if(o===-1)r="",n=e;else if(r=e.substring(0,o),n=e.substring(o+1),!r)throw new u5(e);if(!n)throw new B(0);if(t&&r!==t)throw new l5(t,r);return O(r,n)}function F(e){let t=e.lastIndexOf("_");return t===-1?"":e.substring(0,t)}function q(e){let t=e.lastIndexOf("_");return t===-1?e:e.substring(t+1)}var v=class{constructor(e,t=""){this.prefix=e,this.suffix=t;let r=O(e,t);this.prefix=F(r),this.suffix=q(r)}getType(){return this.prefix}getSuffix(){return this.suffix}asType(e){let t=this;if(t.prefix!==e)throw new d5(t.prefix,e);return t}toUUIDBytes(){return M(this.suffix)}toUUID(){return h(this.toUUIDBytes())}toString(){return this.prefix===""?this.suffix:`${this.prefix}_${this.suffix}`}static fromString(e,t){let r=x5(e,t);return new v(F(r),q(r))}static fromUUIDBytes(e,t){let r=H(t);return new v(e,r)}static fromUUID(e,t){let r=H(a5(t));return new v(e,r)}};function R(e="",t=""){return new v(e,t)}var l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));function J(e,t=0){return(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase()}var j=require("crypto"),E=new Uint8Array(256),U=E.length;function D(){return U>E.length-16&&((0,j.randomFillSync)(E),U=0),E.slice(U,U+=16)}var A={};function m5(e,t,r){let n;if(e)n=G(e.random??e.rng?.()??D(),e.msecs,e.seq,t,r);else{let o=Date.now(),a=D();p5(A,o,a),n=G(a,A.msecs,A.seq,t,r)}return t??J(n)}function p5(e,t,r){return e.msecs??=-1/0,e.seq??=0,t>e.msecs?(e.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],e.msecs=t):(e.seq=e.seq+1|0,e.seq===0&&e.msecs++),e}function G(e,t,r,n,o=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(!n)n=new Uint8Array(16),o=0;else if(o<0||o+16>n.length)throw new RangeError(`UUID byte range ${o}:${o+15} is out of buffer bounds`);return t??=Date.now(),r??=e[6]*127<<24|e[7]<<16|e[8]<<8|e[9],n[o++]=t/1099511627776&255,n[o++]=t/4294967296&255,n[o++]=t/16777216&255,n[o++]=t/65536&255,n[o++]=t/256&255,n[o++]=t&255,n[o++]=112|r>>>28&15,n[o++]=r>>>20&255,n[o++]=128|r>>>14&63,n[o++]=r>>>6&255,n[o++]=r<<2&255|e[10]&3,n[o++]=e[11],n[o++]=e[12],n[o++]=e[13],n[o++]=e[14],n[o++]=e[15],n}var P=m5;var p=require("@raycast/api");var X=async(e,t)=>{try{let r=await p.LocalStorage.getItem("uuidHistory");if(r||(r="[]"),typeof r!="string")return;let n=JSON.parse(r);n.push({uuid:e,timestamp:new Date,type:t}),await p.LocalStorage.setItem("uuidHistory",JSON.stringify(n))}catch{await(0,p.showToast)({style:p.Toast.Style.Failure,title:"Error saving history",message:"Failed to save history to local storage"})}};async function k(e,t,r=!1,n="uuidV4"){let o=Array.from(Array(t)).map(()=>{let a=e();return r?a.toUpperCase():a});for(let a of o)await X(a,n);return o}var z=1e4,g5=async e=>{let{numberOfUUIDsToGenerate:t}=e.arguments,{upperCaseLetters:r,defaultAction:n,base32Encoding:o}=(0,x.getPreferenceValues)();t||(t="1");try{let a=parseInt(t,10);if(isNaN(a))throw new Error("INVALID_NUMBER");if(a<=z){let d=await k(o?()=>R("").toString():P,a,r,"uuidV7");n==="copy"?await x.Clipboard.copy(d.join(`\r
`)):n==="paste"&&await x.Clipboard.paste(d.join(`\r
`));let c=n==="copy"?"Copied":"Pasted",u=d.length>1?`${c} ${d.length} new UUIDs.`:`${c} new UUID: ${d}`;await(0,x.showHUD)(`\u2705 ${u}`)}else await(0,x.showToast)({style:x.Toast.Style.Failure,title:"Too many UUIDs requested.",message:`${a} exceeds maximum UUIDs of ${z}. Try a lower number.`})}catch(a){switch(a.message){case"INVALID_NUMBER":await(0,x.showToast)({style:x.Toast.Style.Failure,title:"Invalid number.",message:"An invalid number has been provided. Try an actual number."});break}}};
