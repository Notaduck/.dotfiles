"use strict";var a=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var f=(t,e)=>{for(var n in e)a(t,n,{get:e[n],enumerable:!0})},g=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of p(e))!d.call(t,o)&&o!==n&&a(t,o,{get:()=>e[o],enumerable:!(i=l(e,o))||i.enumerable});return t};var T=t=>g(a({},"__esModule",{value:!0}),t);var S={};f(S,{default:()=>u});module.exports=T(S);var s=require("@raycast/api");var r=require("@raycast/api");async function m(t=null){await w();let e=x(),n=await c(),i={id:e,name:t,start:new Date().getTime(),end:null};return n[e]=i,await r.LocalStorage.setItem("projecttimer.timers",JSON.stringify(n)),await r.LocalStorage.setItem("projecttimer.runningTimer",e),i}async function w(){let t=await y();if(!t)return null;let e=await c();return e[t]?(e[t].end=new Date().getTime(),await r.LocalStorage.setItem("projecttimer.timers",JSON.stringify(e)),await r.LocalStorage.removeItem("projecttimer.runningTimer"),e[t]):null}async function y(){let t=await r.LocalStorage.getItem("projecttimer.runningTimer");return t||null}async function c(){let t=await r.LocalStorage.getItem("projecttimer.timers");return t?JSON.parse(t):{}}function x(){return Math.random().toString(36).substring(2)}async function u(t){let e=t.arguments.name;e?.trim().length===0&&(e="Unnamed timer");let n=await m(e);if(n===null){await(0,s.showHUD)("Starting timer...");return}await(0,s.showHUD)(`Started ${n.name}`)}
