"use strict";var p=Object.defineProperty;var D=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var h=Object.prototype.hasOwnProperty;var R=(t,e)=>{for(var o in e)p(t,o,{get:e[o],enumerable:!0})},N=(t,e,o,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of S(e))!h.call(t,n)&&n!==o&&p(t,n,{get:()=>e[n],enumerable:!(s=D(e,n))||s.enumerable});return t};var j=t=>N(p({},"__esModule",{value:!0}),t);var O={};R(O,{default:()=>F});module.exports=j(O);var f=require("@raycast/api"),g=require("path"),y=require("fs/promises"),w=require("child_process");async function C(t,...e){let o=(0,g.join)(f.environment.assetsPath,"compiled_raycast_swift/AppleReminders");return await(0,y.chmod)(o,"755"),new Promise((s,n)=>{let l=[t];for(let i of e)try{l.push(JSON.stringify(i,(r,a)=>a===void 0?null:a))}catch(r){n(new c("Failed to serialize input to JSON: "+r.message));return}let d=(0,w.spawn)(o,l),u=[],m=[];d.stdout?.on("data",i=>{u.push(i.toString())}),d.stderr?.on("data",i=>{m.push(i.toString())}),d.on("exit",i=>{if(i===0)try{let r=u.join("").trim();r.length!=0?s(JSON.parse(r)):s(null)}catch(r){let a=new c("Failed to deserialize result from JSON: "+r.message);a.stdout=u.join("").trim(),a.stderr=m.join("").trim(),n(a)}else{let r=new c(m.join("").trim()||u.join("").trim()||"Could not get any data");r.stdout=u.join("").trim(),r.stderr=m.join("").trim(),n(r)}}),d.on("error",i=>{n(i)})})}async function x(t){return await C("createReminder",t)}var c=class extends Error{constructor(e){super(e),this.name="SwiftError"}};async function F(t){return t.dueDate&&t.dueDate.includes("T")&&(t.dueDate=new Date(t.dueDate).toISOString()),await x(t)}
