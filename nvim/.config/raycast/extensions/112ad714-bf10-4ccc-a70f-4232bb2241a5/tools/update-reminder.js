"use strict";var p=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var S=Object.prototype.hasOwnProperty;var R=(t,e)=>{for(var i in e)p(t,i,{get:e[i],enumerable:!0})},C=(t,e,i,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of D(e))!S.call(t,n)&&n!==i&&p(t,n,{get:()=>e[n],enumerable:!(s=h(e,n))||s.enumerable});return t};var N=t=>C(p({},"__esModule",{value:!0}),t);var O={};R(O,{default:()=>F});module.exports=N(O);var f=require("@raycast/api"),g=require("path"),y=require("fs/promises"),w=require("child_process");async function j(t,...e){let i=(0,g.join)(f.environment.assetsPath,"compiled_raycast_swift/AppleReminders");return await(0,y.chmod)(i,"755"),new Promise((s,n)=>{let l=[t];for(let o of e)try{l.push(JSON.stringify(o,(r,a)=>a===void 0?null:a))}catch(r){n(new d("Failed to serialize input to JSON: "+r.message));return}let c=(0,w.spawn)(i,l),u=[],m=[];c.stdout?.on("data",o=>{u.push(o.toString())}),c.stderr?.on("data",o=>{m.push(o.toString())}),c.on("exit",o=>{if(o===0)try{let r=u.join("").trim();r.length!=0?s(JSON.parse(r)):s(null)}catch(r){let a=new d("Failed to deserialize result from JSON: "+r.message);a.stdout=u.join("").trim(),a.stderr=m.join("").trim(),n(a)}else{let r=new d(m.join("").trim()||u.join("").trim()||"Could not get any data");r.stdout=u.join("").trim(),r.stderr=m.join("").trim(),n(r)}}),c.on("error",o=>{n(o)})})}async function x(t){return await j("updateReminder",t)}var d=class extends Error{constructor(e){super(e),this.name="SwiftError"}};async function F(t){return t.dueDate&&t.dueDate.includes("T")&&(t.dueDate=new Date(t.dueDate).toISOString()),await x(t)}
