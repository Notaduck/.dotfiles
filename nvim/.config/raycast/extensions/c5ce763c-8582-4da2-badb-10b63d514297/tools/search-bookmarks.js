"use strict";var f=Object.create;var n=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var P=(o,e)=>{for(var t in e)n(o,t,{get:e[t],enumerable:!0})},m=(o,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of d(e))!w.call(o,s)&&s!==t&&n(o,s,{get:()=>e[s],enumerable:!(r=k(e,s))||r.enumerable});return o};var l=(o,e,t)=>(t=o!=null?f(y(o)):{},m(e||!o||!o.__esModule?n(t,"default",{value:o,enumerable:!0}):t,o)),C=o=>m(n({},"__esModule",{value:!0}),o);var R={};P(R,{default:()=>H});module.exports=C(R);var i=l(require("fs")),a=l(require("path"));var h=["Application Support","Google","Chrome"];var c="Default";var p="Google Chrome has no bookmarks.";var E=require("@raycast/api"),O=()=>{if(!process.env.HOME)throw new Error("$HOME environment variable is not set.");return a.default.join(process.env.HOME,"Library")},x=(o,e)=>{let{profilePath:t}=(0,E.getPreferenceValues)(),r;if(t?r=a.default.join(t,o):r=a.default.join(O(),...h,e??c,o),!i.default.existsSync(r))throw new Error(`The profile path ${r} does not exist. Please check your Chrome profile location by visiting chrome://version -> Profile Path. Then update it in Extension Settings -> Profile Path.`);return r};var _=o=>x("Bookmarks",o);function g(o){let e=[];return o.type==="folder"?o.children.forEach(t=>{e.push(...g(t))}):o.type==="url"&&o.url&&e.push({id:o.id,url:o.url,title:o.name,lastVisited:new Date(o.date_added)}),e}var S=o=>{let e=[];return Object.keys(o.roots).forEach(t=>{let r=o.roots[t],s=g(r);e.push(...s)}),e},u=async o=>{let e=_(o);if(!i.default.existsSync(e))throw new Error(p);let t=await i.default.promises.readFile(e,{encoding:"utf-8"});return S(JSON.parse(t))};async function H(o){return o.query?await u():"Please enter a bookmark search query."}
