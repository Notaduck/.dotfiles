"use strict";var c=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var S=Object.prototype.hasOwnProperty;var T=(o,t)=>{for(var i in t)c(o,i,{get:t[i],enumerable:!0})},w=(o,t,i,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of y(t))!S.call(o,a)&&a!==i&&c(o,a,{get:()=>t[a],enumerable:!(s=g(t,a))||s.enumerable});return o};var I=o=>w(c({},"__esModule",{value:!0}),o);var b={};T(b,{default:()=>A});module.exports=I(b);var m=require("@raycast/api");var e=require("@raycast/api"),h=require("@raycast/api"),p=require("react"),n=require("react/jsx-runtime"),L=["net.kovidgoyal.kitty","org.alacritty","com.mitchellh.ghostty","com.googlecode.iterm2","com.apple.Terminal","dev.warp.Warp-Stable","com.github.wez.wezterm"],u=({setIsTerminalSetup:o})=>{let[t,i]=(0,p.useState)(),[s,a]=(0,p.useState)(!0),{pop:f}=(0,e.useNavigation)();return(0,p.useEffect)(()=>{(async()=>{a(!0);let l=(await(0,e.getApplications)()).filter(r=>L.includes(r.bundleId||""));i(l),a(!1)})()},[]),(0,n.jsxs)(e.Form,{enableDrafts:!0,isLoading:s,navigationTitle:"Select Terminal App",actions:(0,n.jsx)(e.ActionPanel,{children:(0,n.jsx)(e.Action.SubmitForm,{title:"Submit Terminal App Name",onSubmit:async l=>{h.LocalStorage.setItem("terminalAppBundleId",l.terminalAppBundleId);let r=await(0,e.showToast)({style:e.Toast.Style.Animated,title:"Setup Terminal"});r.style=e.Toast.Style.Success,r.message=`Terminal ${l.terminalAppBundleId} is setup successfully for tmux sessioner`,o&&o(!0),f()}})}),children:[(0,n.jsx)(e.Form.Description,{text:"Choose your default terminal App"}),(0,n.jsx)(e.Form.Description,{text:"When switch to session, it will open the session in the selected terminal app."}),(0,n.jsx)(e.Form.Dropdown,{id:"terminalAppBundleId",isLoading:s,children:t?.map((l,r)=>(0,n.jsx)(e.Form.Dropdown.Item,{value:l.bundleId||"",title:l.name,icon:{fileIcon:l.path}},r))})]})};var d=require("react/jsx-runtime");function A({launchContext:o}){let t=o?.launcherCommand;return t?(0,d.jsx)(u,{setIsTerminalSetup:i=>{i&&(0,m.launchCommand)({type:m.LaunchType.UserInitiated,name:t,extensionName:"tmux-sessioner",ownerOrAuthorName:"louishuyng"})}}):(0,d.jsx)(u,{})}
